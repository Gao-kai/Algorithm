## Rabin-Karp 算法

- 187. Repeated DNA Sequences 187. 重复的 DNA 序列 🟠
- 28. Implement strStr() 28. 实现 strStr() 🟢

## 前提

1. 给一个 N 位的 R 进制的正整数 num 的最低位加一个 value，其公式为:

```js
num = num * R + value;
// 1234 = 123 * 10 + 4 = 1230 + 4 = 1234
```

2. 给一个 N 位的 R 进制的正整数 num 最高位移除，其公式为：

```js
let highest = num.toString()[0];
num = num - highest * Math.pow(R, N - 1);

// 2345 => 32345 - 30000 = 32345 - 3 * 10^4
```

## 算法核心思路

在使用滑动窗口解决字符串匹配问题的时候，假设原字符串为 s，需要匹配的字符串为 x
现在要找这个字符串 x 第一次出现在字符串 s 中的起始索引，如果没有返回-1

假设我们维护一个固定的窗口 window，这个窗口是定长的，长度为 x.length
当窗口的 right-left 的的值等于窗口的长度的时候，就可以进行字符匹配了

在匹配之前，以往是把每个字符先取出去放入到窗口中(window可能是数组或者对象map)
但是这样子的话在进行匹配的时候就还需要将window转化为字符串，这就会浪费一定的时间

不如我们把原字符串s和x的每一个字符都转化为数字，
然后进去窗口的时候就可以转化为将当前windowHash的最低位加上这个c，等于窗口向右滑动了一位
从窗口移除的时候就可以转化为将当前windowHash的最高位移除，等于窗口向左滑动了一位

发现没有：
将原本的字符添加到window这个动作，转化成为了数字的常数计算
并且原来将零散的字符转化为字符串去map去校验，现在只要把常数计算的结果拿去校验即可，这又是O(1)的复杂度

